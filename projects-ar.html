<!--<!DOCTYPE html>-->
<!--<html lang="en" dir="{{appDirection}}">-->
<!--<head>-->
<!--<meta charset="utf-8">-->
<!--<meta http-equiv="X-UA-Compatible" content="IE=edge">-->
<!--<meta name="viewport" content="width=device-width, initial-scale=1">-->
<!--<title>  المشاريع  </title>-->
<!--&lt;!&ndash; Global stylesheets &ndash;&gt;-->
<!--<link href="assets/css/ar/icons/icomoon/styles.css" rel="stylesheet" type="text/css">-->
<!--<link href="assets/css/ar/bootstrap.css" rel="stylesheet" type="text/css">-->
<!--<link href="assets/css/ar/core.css" rel="stylesheet" type="text/css">-->
<!--<link href="assets/css/ar/font.css" rel="stylesheet" type="text/css">-->
<!--<link href="assets/css/ar/components.css" rel="stylesheet" type="text/css">-->
<!--<link href="assets/css/ar/colors.css" rel="stylesheet" type="text/css">-->
<!--&lt;!&ndash; /global stylesheets &ndash;&gt;-->
<!--&lt;!&ndash; Core JS files &ndash;&gt;-->
<!--<script type="text/javascript" src="assets/js/plugins/loaders/pace.min.js"></script>-->
<!--<script type="text/javascript" src="assets/js/core/libraries/jquery.min.js"></script>-->
<!--<script type="text/javascript" src="assets/js/core/libraries/bootstrap.min.js"></script>-->
<!--<script type="text/javascript" src="assets/js/plugins/loaders/blockui.min.js"></script>-->
<!--&lt;!&ndash; /core JS files &ndash;&gt;-->
<!--&lt;!&ndash; Theme JS files &ndash;&gt;-->
<!--<script type="text/javascript" src="assets/js/plugins/ui/moment/moment.min.js"></script>-->
<!--<script type="text/javascript" src="assets/js/plugins/pickers/daterangepicker.js"></script>-->
<!--<script type="text/javascript" src="assets/js/core/app.js"></script>-->
<!--<script type="text/javascript" src="assets/js/core/libraries/jquery_ui/interactions.min.js"></script>-->
<!--<script type="text/javascript" src="assets/js/plugins/forms/selects/select2.min.js"></script>-->
<!--<script type="text/javascript" src="assets/js/pages/form_select2.js"></script>-->
<!--<script type="text/javascript" src="assets/js/pages/picker_date.js"></script>-->

<!--&lt;!&ndash; /theme JS files &ndash;&gt;-->
<!--</head>-->
<!--<body class="navbar-top">-->
<!--&lt;!&ndash; Main navbar &ndash;&gt;-->
<!--<div class="navbar navbar-inverse navbar-fixed-top">-->
<!--<div class="navbar-header">-->
<!--<a class="navbar-brand" href="index.html"><img src="assets/images/logo_light.png" alt=""></a>-->
<!--<ul class="nav navbar-nav pull-right visible-xs-block">-->
<!--<li><a data-toggle="collapse" data-target="#navbar-mobile"><i class="icon-tree5"></i></a></li>-->
<!--<li><a class="sidebar-mobile-main-toggle"><i class="icon-paragraph-justify3"></i></a></li>-->
<!--</ul>-->
<!--</div>-->
<!--<div class="navbar-collapse collapse" id="navbar-mobile">-->
<!--<ul class="nav navbar-nav">-->
<!--<li><a class="sidebar-control sidebar-main-toggle hidden-xs"><i class="icon-paragraph-justify3"></i></a></li>-->
<!--<li><a> نظام توثيق ومتابعة المشاريع والمهام الإستراتيجية | جامعة الحرمين </a></li>-->
<!--</ul>-->
<!--<ul class="nav navbar-nav navbar-right">-->

<!--<li class="dropdown language-switch">-->
<!--<a class="dropdown-toggle" data-toggle="dropdown">-->
<!--<img src="assets/images/flags/sa.png" class="position-left" alt="">-->
<!--العربية-->
<!--<span class="caret"></span>-->
<!--</a>-->
<!--<ul class="dropdown-menu">-->
<!--<li><a class="english-font" href="index.html"><img src="assets/images/flags/gb.png" alt="">  English </a></li>-->
<!--</ul>-->
<!--</li>-->
<!--<li><a href="#"><i class="icon-switch2"></i> تسجيل خروج </a></li>-->
<!--</ul>-->
<!--</div>-->
<!--</div>-->
<!--&lt;!&ndash; /main navbar &ndash;&gt;-->
<!--&lt;!&ndash; Page container &ndash;&gt;-->
<!--<div class="page-container">-->
<!--&lt;!&ndash; Page content &ndash;&gt;-->
<!--<div class="page-content">-->
<!--&lt;!&ndash; Main sidebar &ndash;&gt;-->
<!--<div class="sidebar sidebar-main sidebar-fixed">-->
<!--<div class="sidebar-content">-->

<!--&lt;!&ndash; User menu &ndash;&gt;-->
<!--<div class="sidebar-user-material">-->
<!--<div class="category-content">-->
<!--<div class="sidebar-user-material-content">-->
<!--<a href="#"><img src="assets/images/logo.jpg" class="img-responsive" alt=""></a>-->
<!--<h6>جامعة الحرمين </h6>-->
<!--<span class="text-size-small">ومن يؤت الحكمة فقد أوتي خيراً كثيراً</span>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--&lt;!&ndash; /user menu &ndash;&gt;-->
<!--&lt;!&ndash; Main navigation &ndash;&gt;-->
<!--<div class="sidebar-category sidebar-category-visible">-->
<!--<div class="category-content no-padding">-->
<!--<ul class="navigation navigation-main navigation-accordion">-->
<!--&lt;!&ndash; Main &ndash;&gt;-->
<!--<li class="navigation-header"><span> الرئيسية </span> <i class="icon-menu" title="Main pages"></i></li>-->
<!--<li><a href="index-ar.html"><i class="icon-home4"></i> <span> الرئيسية</span></a></li>-->
<!--<li><a href="profile-ar.html"><i class="icon-profile"></i> <span> الصفحة الشخصية </span></a></li>-->
<!--<li><a href="roles-ar.html"><i class="icon-clipboard2"></i> <span> المهام </span></a></li>-->
<!--<li class="active"><a href="projects-ar.html"><i class="icon-stack2"></i> <span> المشاريع </span></a></li>-->
<!--<li><a href="programs-ar.html"><i class="icon-stack"></i> <span> البرامج</span></a></li>-->
<!--<li><a href="targets-ar.html"><i class="icon-target"></i> <span> الأهداف </span></a></li>-->
<!--<li><a href="persons-ar.html"><i class="icon-users"></i> <span> الأشخاص</span></a></li>-->
<!--<li><a href="organizations-ar.html"><i class="icon-office"></i> <span> الجهات </span></a></li>-->
<!--<li><a href="targets-map-ar.html"><i class="icon-server"></i> <span> خريطة الأهداف / البرامج / الجهات </span></a></li>-->
<!--<li><a href="reports.html"><i class="icon-file-text2"></i> <span> التقارير</span></a>-->
<!--</li>-->
<!--&lt;!&ndash; /main &ndash;&gt;-->
<!--</ul>-->
<!--</div>-->
<!--</div>-->
<!--&lt;!&ndash; /main navigation &ndash;&gt;-->
<!--</div>-->
<!--</div>-->
<!--&lt;!&ndash; /main sidebar &ndash;&gt;-->
<!--&lt;!&ndash; Main content &ndash;&gt;-->
<!--<div class="content-wrapper pattern-bg">-->
<!-- Content area -->
<div class="content">
    <div class="">
        <div class="page-header-content">
            <div class="page-title">
                <h3><span class="text-semibold"> تعريف المشاريع </span></h3>
            </div>
        </div>


    </div>
    <div class="row">
        <div class="col-md-6">
            <form action="#">
                <div class="panel panel-flat">
                    <div class="panel-body height-70-vh">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label> المستوى الأول </label>
                                <select name="select" class="form-control" ng-change="onAssociationSelected('level1')"
                                        ng-model="entitiesModel.firstLevel">
                                    <option value="" >جميع الجهات</option>
                                    <option value="{{$index}}" ng-repeat="association in associations">
                                        {{association.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label> المستوى الثاني </label>
                                <select name="select" class="form-control" ng-model="entitiesModel.secondLevel"
                                        ng-change="onAssociationSelected('level2')" ng-disabled="disableSecondLevel">
                                    <option value="">جميع الجهات</option>
                                    <option value="{{key}}"
                                            ng-repeat="(key, value) in selectedFirstLevelObject.children">
                                        {{value.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label> المستوى الثالث </label>
                                <select name="select" class="form-control" ng-model="entitiesModel.thirdLevel"
                                        ng-change="onAssociationSelected('level3')" ng-disabled="disablethirdLevel">
                                    <option value=""> جميع الجهات</option>
                                    <option value="{{key}}"
                                            ng-repeat="(key, value) in selectedSecondLevelObject.children">
                                        {{value.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label> المستوى الرابع </label>
                                <select name="select" class="form-control" ng-model="entitiesModel.fourthLevel"
                                        ng-change="onAssociationSelected('level4')" ng-disabled="disableFourthLevel" >
                                    <option value=""> جميع الجهات</option>
                                    <option value="{{key}}"
                                            ng-repeat="(key, value) in selectedThirdLevelObject.children">{{value.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label> اختيار الهدف الإستراتيجي </label>
                                <select name="select" class="form-control" ng-model="goalsModel.strategicGoal"
                                        ng-change="onStrategicGoalSelected()">
                                    <option value="" >جميع الأهداف الاستراتيجية</option>
                                    <option value="{{$index}}" ng-repeat="mainGoal in strategicGoals">
                                        {{mainGoal.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label> اختيار الهدف التفصيلي </label>
                                <select name="select" class="form-control" ng-model="goalsModel.secondaryGoal"
                                        ng-change="onSecondaryGoalSelected()" ng-disabled="disableSecondaryGoal">
                                    <option value="">جميع الأهداف التفصيلية</option>
                                    <option value="{{key}}" ng-repeat="(key, value) in selectedStrategicGoal.subgoals">
                                        {{value.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label> البرنامج </label>
                                <select name="select" class="form-control" ng-model="programId"
                                        ng-change="filterProjects()">
                                    <option value="">جميع البرامج</option>
                                    <option ng-repeat="program in programs" value="{{program._id}}">{{program.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label> المشروع </label>
                                <select multiple="multiple" class="form-control">
                                    <option ng-repeat="project in projects" value="{{project._id}}"
                                            ng-click="onProjectClicked(project)">{{project.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="text-right">
                            <!-- <button ng-click="addNewProject(projectObject,projectForm.$valid,projectForm)" type="button"
                                    class="btn bg-primary-400"> جديد
                            </button> -->
                            <i class="fa fa-plus fa-2x text-green action-icon" ng-click="addNewProject(projectObject,projectForm.$valid,projectForm)" aria-hidden="true"></i>
                            <!-- <button ng-click="editProject(projectObject,projectForm.$valid)" type="button"
                                    class="btn bg-success-400"> حفظ
                            </button> -->
                            <i class="fa fa-floppy-o fa-2x action-icon" aria-hidden="true" ng-click="editProject(projectObject,projectForm.$valid)" ></i>
                            <!-- <button ng-click="deleteProject()" type="button" class="btn bg-danger-400"> إلغاء</button> -->
                            <i class="fa fa-times fa-2x text-danger action-icon" ng-click="deleteProject()" aria-hidden="true"></i>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-md-6">
            <form name="projectForm">
                <div class="panel panel-flat">
                    <div class="panel-body height-70-vh">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label> عنوان المشروع </label>
                                <input type="text" class="form-control" required ng-model="projectObject.name"
                                       placeholder="مشروع 2">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label> البرنامج </label>
                                <select name="select" class="form-control" required ng-model="projectObject.program">
                                    <option value="" disabled>اختر برنامجا</option>
                                    <option ng-repeat="program in programs" value="{{program._id}}">{{program.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label> مدير المشروع </label>
                                <select name="select" class="form-control"  ng-model="projectObject.manager">
                                    <option value="" disabled>مدير المشروع</option>
                                    <option ng-repeat="user in users" value="{{user._id}}">{{user.name}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label> حالة المشروع </label>
                                <select name="select" class="form-control"  ng-model="projectObject.active">
                                    <option value="" disabled>حالة المشروع</option>
                                    <option value="true"> نشط</option>
                                    <option value="false">تم</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label> التكلفة التقديرية </label>
                                <input type="number" class="form-control" placeholder="10,000" 
                                       ng-model="projectObject.approxCost">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label> تاريخ بداية المخطط </label>

                                <div class="input-group">
                                    <span class="input-group-addon"><i class="icon-calendar22"></i></span>
                                    <input type="date"  class="form-control daterange-single"
                                           ng-model="projectObject.datePlannedStart">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label> تاريخ نهاية المخطط </label>

                                <div class="input-group">
                                    <span class="input-group-addon"><i class="icon-calendar22"></i></span>
                                    <input type="date" class="form-control daterange-single" placeholder="03/18/2013"
                                           ng-model="projectObject.datePlannedEnd">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label> تاريخ البداية الفعلي </label>

                                <div class="input-group">
                                    <span class="input-group-addon"><i class="icon-calendar22"></i></span>
                                    <input type="date" class="form-control daterange-single" placeholder="03/18/2013"
                                           ng-model="projectObject.dateActualStart">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label> تاريخ النهاية الفعلي </label>

                                <div class="input-group">
                                    <span class="input-group-addon"><i class="icon-calendar22"></i></span>
                                    <input type="date" class="form-control daterange-single" placeholder="03/18/2013"
                                           ng-model="projectObject.dateActualEnd">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12" style="margin-top: 6px;">
                                <label style="font-weight: bold;"> فلترة الأشخاص</label>                                
                        </div>
                        <div class="col-md-6">
                            <!--<div class="col-md-12">-->
                            <div class="form-group">
                                <label>المستوى الأول</label>
                                <select name="select" class="form-control"
                                        ng-change="filterUsers('level1')"
                                        ng-model="userFilterEntitiesModel.firstLevel">
                                    <option value="" >جميع الجهات</option>
                                    <option value="{{$index}}" ng-repeat="association in associations">
                                        {{association.name}}
                                    </option>

                                </select>
                            </div>
                            <div class="form-group">
                                    <label>المستوى الثاني</label>                                    
                                <select name="select" class="form-control"
                                        ng-model="userFilterEntitiesModel.secondLevel"
                                        ng-change="filterUsers('level2')" ng-disabled="disableSecondLevelEntity">
                                    <option value="">جميع الجهات</option>
                                    <option value="{{key}}"
                                            ng-repeat="(key, value) in selectedFirstLevelEntity.children">
                                        {{value.name}}
                                    </option>
                                </select>
                            </div>

                            <!--</div>-->
                            <!--<div class="col-md-12">-->
                            <!--<div class="form-group">-->
                            <!--<label> إختيار فريق العمل </label>-->
                            <!--<select multiple="multiple" class="form-control select">-->
                            <!--<option> فرد 1</option>-->
                            <!--<option>فرد 2</option>-->
                            <!--<option>فرد 3</option>-->
                            <!--<option>فرد 4</option>-->
                            <!--<option>فرد 5</option>-->
                            <!--</select>-->
                            <!--</div>-->
                            <!--</div>-->
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                    <label>المستوى الثالث</label>                                                                        
                                <select name="select" class="form-control"
                                        ng-model="userFilterEntitiesModel.thirdLevel"
                                        ng-change="filterUsers('level3')" ng-disabled="disableThirdLevelEntity">
                                    <option value=""> جميع الجهات</option>
                                    <option value="{{key}}"
                                            ng-repeat="(key, value) in selectedSecondLevelEntity.children">
                                        {{value.name}}
                                    </option>

                                </select>
                            </div>
                            <div class="form-group">
                                    <label>المستوى الرابع</label>                                                                        
                                <select name="select" class="form-control"
                                        ng-model="userFilterEntitiesModel.fourthLevel"
                                        ng-change="filterUsers('level4')" ng-disabled="disableFourthLevelEntity">
                                    <option value=""> جميع الجهات</option>
                                    <option value="{{key}}"
                                            ng-repeat="(key, value) in selectedThirdLevelEntity.children">{{value.name}}
                                    </option>

                                </select>
                            </div>
                        </div>
                        <!-- <div class="col-md-12"> -->
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label> فريق العمل داخلياً </label>
                                    <select id="sel1" multiple="multiple"  class="form-control select"
                                            ng-model="projectObject.teamInt">
                                        <option value="{{user._id}}" ng-repeat="user in users">{{user.name}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label> فريق العمل خارجياً </label>
                                    <select id="sel2" multiple="multiple"  class="form-control select"
                                            ng-model="projectObject.teamExt">
                                        <option value="{{user._id}}" ng-repeat="user in users">{{user.name}}</option>
                                    </select>
                                </div>
                            </div>
                        <!-- </div> -->
                        <div class="col-md-12">
                            <div class="form-group">
                                <label> وصف المشروع</label>
                                <textarea rows="3" class="form-control"  ng-model="projectObject.description"
                                          placeholder="وصف المشروع"></textarea>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label> مخرجات المشروع </label>
                                <textarea rows="3" class="form-control" ng-model="projectObject.outputs"
                                          placeholder="مخرجات المشروع"></textarea>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label> مراحل المشروع </label>
                                <select multiple="multiple" class="form-control height-100">
                                    <option ng-repeat="stage in projectObject.stages track by $index"
                                            ng-click="onProgramStageSelected(stage,$index)">{{stage.name}}
                                    </option>
                                </select>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" ng-model="stageName"
                                       placeholder="المرحلة الاولى">
                            </div>
                            <div class="text-right">
                                <!-- <button ng-click="addProjectStage()" type="button" class="btn bg-primary-400"> إضافة
                                </button> -->
                                <i class="fa fa-plus fa-2x text-green action-icon" ng-click="addProjectStage()" aria-hidden="true"></i>                                                                                                                                                                            
                                <!-- <button ng-click="editProjectStage()" type="button" class="btn bg-success-400"> حفظ
                                </button> -->
                                <i ng-click="editProjectStage()" class="fa fa-floppy-o fa-2x action-icon" aria-hidden="true"></i>                                            
                                
                                <!-- <button ng-click="deleteProjectStage()" type="button" class="btn bg-danger-400"> حذف
                                </button> -->
                                <i class="fa fa-times fa-2x text-danger action-icon" ng-click="deleteProjectStage()" aria-hidden="true"></i>
                                
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label> مخرجات المرحلة </label>
                                <select multiple="multiple" class="form-control height-100">
                                    <option ng-repeat="output in selectedProjectStage.outputs track by $index"
                                            ng-click="onProgramStageOutputSelected(output,$index)">{{output.name}}
                                    </option>
                                </select>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" ng-model="outputName"
                                       placeholder="مخرجات المرحلة الاولى">
                            </div>
                            <div class="text-right">
                                <!-- <button ng-click="addOutput()" type="button" class="btn bg-primary-400"> إضافة</button> -->
                                <i class="fa fa-plus fa-2x text-green action-icon" ng-click="addOutput()" aria-hidden="true"></i>                                                                                                                                            
                                <i class="fa fa-floppy-o fa-2x action-icon" ng-click="editProjectStageOutput()" aria-hidden="true"></i>                                            
                                <i class="fa fa-times fa-2x text-danger action-icon" ng-click="deleteProjectStageOutput()" aria-hidden="true"></i>
                                
                                <!-- <button ng-click="editProjectStageOutput()" type="button" class="btn bg-success-400">
                                    حفظ
                                </button> -->
                                <!-- <button ng-click="deleteProjectStageOutput()" type="button" class="btn bg-danger-400">
                                    حذف
                                </button> -->
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label> مؤشرات المرحلة </label>
                                <select multiple="multiple" class="form-control height-100">
                                    <option ng-repeat="indicator in selectedProjectStage.indices track by $index"
                                            ng-click="onIndicatorSelected(indicator,$index)">{{indicator.name}}
                                    </option>
                                </select>
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" ng-model="indicatorName"
                                       placeholder="المؤشر الاول">
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label> القيمة المستهدفة</label>
                                    <input type="number" ng-model="goalValue" class="form-control">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label> القيمة الحالية</label>
                                    <input type="number" ng-model="actualValue" class="form-control">
                                </div>
                            </div>

                            <div class="text-right">
                                <!-- <button ng-click="addIndicator()" type="button" class="btn bg-primary-400"> إضافة
                                </button>
                                <button ng-click="editIndicator()" type="button" class="btn bg-success-400"> حفظ
                                </button>
                                <button ng-click="deleteIndicator()" type="button" class="btn bg-danger-400"> حذف
                                </button> -->
                                <i class="fa fa-plus fa-2x text-green action-icon" ng-click="addIndicator()" aria-hidden="true"></i>                                                                                                                                            
                                <i class="fa fa-floppy-o fa-2x action-icon" ng-click="editIndicator()" aria-hidden="true"></i>                                            
                                <i class="fa fa-times fa-2x text-danger action-icon" ng-click="deleteIndicator()" aria-hidden="true"></i>
                               
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <!-- Footer -->
    <div class="footer text-muted">
        &copy; 2017. كلية المسجد النبوي - </a> جميع الحقوق محفوظة.
    </div>
    <!-- /footer -->
</div>
<!-- /content area -->
<!--</div>-->
<!-- /main content -->
<!--</div>-->
<!-- /page content -->
<!--</div>-->
<!-- /page container -->
<!--</body>-->
<!--</html>-->
